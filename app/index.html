<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Home page</title>
    <script type="text/javascript" src="../core/data/playlists.js"></script>
    <script type="text/javascript" src="../core/data/users.js"></script>
    <script src="http://backbonejs.org/test/vendor/underscore.js"></script>
    <script src="http://backbonejs.org/test/vendor/jquery.js"></script>
    <script src="http://backbonejs.org/docs/js/jquery.lazyload.js"></script>
    <script src="http://backbonejs.org/backbone.js"></script>
    <script>
      var playlistsJSN = JSON.parse(playlistsJSON);
      var usersJSN = JSON.parse(usersJSON);
    </script>
  </head>
  <body>
    <div id="index-header"></div>
    <div id="index-content"></div>
    <div id="index-card-area"></div>
    <div id="playlist"></div>
    <div id="index-footer"></div>

    <script type="text/template" id="template-HeaderView">
      <div id="logo_div">
        <a href="home.html"><img src="../core/assets/logo-top.png" id="logo" alt="Image not found"/></a>
      </div>
      <div id="search">
        <img src="../core/assets/search-icon.png" id="search_img" alt="Image not found"/>
        <form action="" method="get">
          <input id="search_box" type="text" name="search" placeholder="Search Music"/>
        </form>
      </div>
      <div id="sign_in_div">
        <a href="login.html"><button id="sign_in_button" type="button" name="sign_in">Sign in</button></a>
      </div>
    </script>

    <script type="text/template" id="template-ContentView">
      <p style="color:white"><strong>Ready to listen to endless music<br/> on your favorite device?</strong></p>
      <a href="sign_up.html"><button id="join_now_button" type="button" name="join_now">JOIN NOW</button></a><br/><br/><br/>
      <p id ="promise" style="color:white">Epic and debauched party mixes</p><br/><br/>
  	</script>

    <script type="text/template" id="template-PlaylistsView">
      <ul class='playlists-view'>

      </ul>
    </script>

  	<script type="text/template" id="template-PlaylistView">
      <div class="card">
        <div class="mat">
        </div>
        <button class="explore" type="button" name="explore_playlist"><img src="../core/assets/play-icon.png" alt="Image not found"/> Explore playlist</button>
        <img id="card-image" src="<%= imageLarge %>"/>
        <p><strong id="title"><%= title %></strong></p>
        <p id="description"><%= description %></p>
      </div>
  	</script>

    <script type="text/template" id="template-SongsListView">
      <div id="close">
        <span class="close-button">CLOSE<img id="close-icon" src="../core/assets/close-icon.png" alt="Image not found"/></span>
      </div>
      <div id="playing-from"></div>
        <table id="playlist-songs" align="center">
        <thead>
        <tr>
          <th colspan="2">
            SONG
          </th>
          <th>
            LENGTH
          </th>
          <th>
            LISTENED
          </th>
        </tr>
      </thead>
      <tbody id="playlist-songs-body"></tbody>
      </table>
    </script>

    <script type="text/template" id="template-SongRowView">
      <td>
        <img src="<%= image %>"/>
      </td>
      <td>
        <%= songTitle %><br/>
        <%= songAuthor %>
      </td>
      <td>
        <%= songLength %>
      </td>
      <td>
        <%= songListened %>
      </td>
    </script>

    <script type="text/javascript" src="app_views/header-view.js"></script>
    <script type="text/javascript" src="app_views/content-view.js"></script>
    <script type="text/javascript" src="models/playlist-model.js"></script>
    <script type="text/javascript" src="collections/playlist-collection.js"></script>
    <script type="text/javascript" src="views/playlist-view.js"></script>
    <script type="text/javascript" src="views/playlists-view.js"></script>
    <script type="text/javascript" src="models/song-model.js"></script>
    <script type="text/javascript" src="collections/song-collection.js"></script>
    <script type="text/javascript" src="views/song-list-item-view.js"></script>
    <script type="text/javascript" src="views/songs-list-view.js"></script>

    <script type="text/javascript">
      var headerView = new HeaderView({ el: $("#index-header") });
      var contentView = new ContentView({ el: $("#index-content") });
      var playlists = new PlaylistCollection();
      playlists.set(playlistsJSN);
      var playlistsView = new PlaylistsView({
        el: document.getElementById('index-card-area'),
        collection: playlists
      });
      playlistsView.render();
    </script>
  </body>
</html>
